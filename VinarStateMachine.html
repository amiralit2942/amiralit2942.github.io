<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DoTween Editor</title>
    <link rel="stylesheet" href="./Assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="./Assets/css/aos.css">
    <link rel="stylesheet" href="./Assets/css/style.css">

</head>

<body>
    <div class="container">
        <h1 style="margin-top: 25px; margin-left: 25px;">Statemachine</h1>

        <!-- Image Sample -->
        <div class="row justify-content-center">
            <div class="col-lg-6 py-5 d-flex justify-content-center"><img
                    src="./Assets/Images/why-are-you-why-are-you-gay.gif" alt=""></div>
            <div class="col-lg-6 py-5 d-flex justify-content-center"><img
                    src="./Assets/Images/why-are-you-why-are-you-gay.gif" alt=""></div>

        </div>
        <p style="text-align: center;">This code is for Vinar project. You can see the result</p>
        <a href="./VinarPage.html" class="justify-content-center d-flex link-custom" style="text-align: center;">
            Here</a>

        <!-- Code -->
        <div style="margin-top: 50px; margin-left: 100px; margin-right: 100px;">
            <p class="text-brand" style="font-size: 25px;">Code:</p>
            <p>PlayerController (Statemachine)</p>
            <pre class="cscode"><code><span class="key">public</span> <span class="key">class</span> PlayerController : SingletonMonoBehaviour<PlayerController>
                <pre class="cscode"><code>   {        
                    #region States
            
                    [SerializeField] <span class="key">private</span> PlayerState _oldState;
                    [SerializeField] <span class="key">private</span> PlayerState _currentState;
                    <span class="key">public</span> PlayerState oldState =&gt; _oldState;
            
                    <span class="key">public</span> PlayerState currentState
                    {
                        <span class="key">get</span> =&gt; _currentState;
                        <span class="key">set</span>
                        {
                            <span class="key">if</span> (_currentState == value)
                                <span class="key">return</span>;
                            <span class="key">if</span> (_currentState != <span class="key">null</span>)
                            {
                                _currentState.Exit();
                                _oldState = _currentState;
                            }
            
                            _currentState = value;
                            _currentState.Enter();
                        }
                    }
                    
                    <span class="key">private</span> <span class="key">void</span> Start()
                    {
                        currentState = idleState;
                    }
            
                    <span class="key">private</span> <span class="key">void</span> Update()
                    {
                        <span class="key">if</span> (currentState != <span class="key">null</span>)
                            currentState.StateUpdate();
                        <span class="key">for</span> (<span class="key">var</span> i = 0; i &lt; _subStates.Count; i++)
                            <span class="key">if</span> (_subStates[i].isActive)
                                _subStates[i].StateUpdate();
                    }
                }</code></pre>
            </code></pre>
        </div>


        <div style="margin-top: 50px; margin-left: 100px; margin-right: 100px;">
            <p>PlayerController (State)</p>
            <pre class="cscode"><code><span class="key">public</span> <span class="key">class</span> PlayerController : SingletonMonoBehaviour<PlayerController>
                <pre class="cscode"><code>   {        
                    #region States
            
                    [SerializeField] <span class="key">private</span> PlayerState _oldState;
                    [SerializeField] <span class="key">private</span> PlayerState _currentState;
                    <span class="key">public</span> PlayerState oldState =&gt; _oldState;
            
                    <span class="key">public</span> PlayerState currentState
                    {
                        <span class="key">get</span> =&gt; _currentState;
                        <span class="key">set</span>
                        {
                            <span class="key">if</span> (_currentState == value)
                                <span class="key">return</span>;
                            <span class="key">if</span> (_currentState != <span class="key">null</span>)
                            {
                                _currentState.Exit();
                                _oldState = _currentState;
                            }
            
                            _currentState = value;
                            _currentState.Enter();
                        }
                    }
                    
                    <span class="key">private</span> <span class="key">void</span> Start()
                    {
                        currentState = idleState;
                    }
            
                    <span class="key">private</span> <span class="key">void</span> Update()
                    {
                        <span class="key">if</span> (currentState != <span class="key">null</span>)
                            currentState.StateUpdate();
                        <span class="key">for</span> (<span class="key">var</span> i = 0; i &lt; _subStates.Count; i++)
                            <span class="key">if</span> (_subStates[i].isActive)
                                _subStates[i].StateUpdate();
                    }
                }</code></pre>
            </code></pre>
        </div>


    </div>
</body>

</html>